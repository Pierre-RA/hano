extends ../layout

block content
  div(ng-controller='ArticleController', url='#{url}').flow.container.article
    h1 {{article.title}}
    div(marked="article.content | parseLinks")
    div.categories
      a(href="/categories/{{category}}", ng-repeat="category in article.categories").label.label-primary
        i.fa.fa-fw.fa-tag(aria-hidden="true")
        span(ng-show="category.text") {{category.text}}
        span(ng-hide="category.text") {{category}}
    if user
      div.edition
        button(class="btn btn-info", ng-click="form = !form")
          span(class="glyphicon glyphicon-pencil")
        a(href='#', class="btn btn-danger")
          span(class="glyphicon glyphicon-trash")
      div(ng-controller='ArticleFormController', method='PUT', ng-show="form")
        include ../form/article.jade
